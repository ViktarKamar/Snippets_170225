# Деплой на Render.com

## Подготовка проекта

1. **Убедитесь, что все файлы закоммичены в Git:**
   ```bash
   git add .
   git commit -m "Подготовка к деплою на Render.com"
   git push origin main
   ```

2. **Проверьте, что все необходимые файлы созданы:**
   - `render.yaml` - конфигурация сервиса
   - `build.sh` - скрипт сборки
   - `start.sh` - скрипт запуска
   - `requirements.txt` - обновлен с продакшен зависимостями

## Деплой на Render.com

### 1. Создание аккаунта
- Зайдите на [render.com](https://render.com)
- Создайте аккаунт или войдите в существующий

### 2. Подключение репозитория
- Нажмите "New +" → "Web Service"
- Подключите ваш GitHub/GitLab репозиторий
- Выберите ветку `main`

### 3. Настройка сервиса
- **Name:** `snippets-app` (или любое другое)
- **Environment:** `Python 3`
- **Build Command:** `./build.sh`
- **Start Command:** `./start.sh`

### 4. Переменные окружения
Добавьте следующие переменные:
- `SECRET_KEY` - Django секретный ключ (генерируется автоматически)
- `DEBUG` - `False`
- `ALLOWED_HOSTS` - `.onrender.com`
- `DB_NAME`, `DB_USER`, `DB_PASSWORD`, `DB_HOST`, `DB_PORT` - настройки базы данных (создаются автоматически)

### 5. База данных
- Render автоматически создаст PostgreSQL базу данных
- Свяжите её с вашим веб-сервисом

### 6. Деплой
- Нажмите "Create Web Service"
- Дождитесь завершения сборки и деплоя

## Проверка деплоя

1. **Проверьте логи:**
   - В разделе "Logs" должны быть успешные сообщения о запуске

2. **Проверьте URL:**
   - Ваше приложение будет доступно по адресу `https://your-app-name.onrender.com`

3. **Проверьте базу данных:**
   - Убедитесь, что миграции применились
   - Проверьте работу основных функций

## Возможные проблемы

### Ошибка "ModuleNotFoundError: No module named 'gunicorn'"
- Убедитесь, что `gunicorn` добавлен в `requirements.txt`

### Проблемы со статическими файлами
- Проверьте, что `STATIC_ROOT` настроен правильно
- Убедитесь, что `collectstatic` выполняется в `build.sh`

### Проблемы с базой данных
- Проверьте, что `DATABASE_URL` правильно настроена
- Убедитесь, что PostgreSQL доступен

### Проблемы со статическими файлами
- Проверьте, что `STATIC_ROOT` настроен правильно
- Убедитесь, что `collectstatic` выполняется в `build.sh`

## Обновление приложения

Для обновления приложения просто запушьте изменения в Git:
```bash
git add .
git commit -m "Обновление приложения"
git push origin main
```

Render автоматически пересоберет и перезапустит приложение.

## Мониторинг

- **Logs** - просмотр логов приложения
- **Metrics** - мониторинг производительности
- **Events** - история деплоев и изменений

## Стоимость

- **Free план:** 750 часов в месяц, 512MB RAM, 0.1 CPU
- **Paid планы:** от $7/месяц с большими ресурсами 